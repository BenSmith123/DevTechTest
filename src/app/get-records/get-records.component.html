
<button (click)="getPosts()">View all appointments</button>
<br><br><br>


<form *ngIf="showIdInput">
  <!-- <button (click)="getPostByID()">Get post by ID</button> -->
  <input type="text" class=txt name="item" [(ngModel)]="myText" placeholder="Enter an ID">
  <br><span>{{ myText }}</span>
  <input type = "submit" (click)="getPostByID()" value="List appointments for user">
</form>

<!--
<p [(ngModel)]="appointment">
text: {{appointment}}
</p>
-->

<table>
  <div *ngFor="let post of posts | async; first as isFirst" (click)="onClick(post)" > <!-- print out each post object of the list called posts -->

    <span *ngIf="isFirst">
      <tr>
        <th>Id</th>
        <th>Description</th>
        <th>Start</th>
      </tr>
    </span>

    <tr>
      <th>{{post.Id}}</th>
      <th>{{post.Description}}</th>
      <th>{{post.Start | date:'dd-MM-yyyy HH:mm z'}}</th>
    </tr>

    <!-- {{ post | json }} this shows the response in JSON format-->

  </div>
</table>

<div *ngIf="showAppointmentDetails">
  <br>
  <table >
    <tr>
      <th>{{appointment.id}}</th>
      <th>{{appointment.description}}</th>
      <th>{{appointment.start | date:'dd-MM-yyyy HH:mm z'}}</th>
      <th>{{appointment.end | date:'dd-MM-yyyy HH:mm z'}}</th>
      <th>{{appointment.notes}}</th>
      <th>{{appointment.party}}</th>
    </tr>
  </table>

    <!-- <button (click)="getPostByID()">Get post by ID</button> -->
    <input type="text" class=txt name="item" [(ngModel)]="note" placeholder="Add a note">
    <input type = "submit" (click)="addNote(appointment, note)" value="Add note">

</div>
